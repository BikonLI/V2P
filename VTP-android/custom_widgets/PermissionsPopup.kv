<PermissionsPopup@Popup>:
    title: "申请外部存储权限"
    title_color: "black"
    size_hint: 0.9, 0.3
    pos_hint: {"center_x": 0.5, "center_y": 0.5}
    auto_dismiss: False
    #background_color: 1, 1, 1, 1

    BoxLayout:
        padding: 0
        orientation: "vertical"

        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle: 
                size: root.size
                pos: root.pos

        Label: 
            text: 
                """
                该应用需要申请外部存储权限以读取.../Documents/文
                件夹来存储提取的照片。
                """
            color: "black"

        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, 0.25

            canvas.after:
                Color:
                    rgba: 0.2, 0.6, 0.85, 1
                Line:
                    points: 
                        root.pos[0], self.pos[1] + self.size[1] + 2, root.pos[0] + root.size[0], self.pos[1] + self.size[1] + 2
                    width: 1
                    cap: 'none'

                Line:
                    points:
                        root.pos[0] + root.size[0] / 2, self.pos[1] + self.size[1] + 2, root.pos[0] + root.size[0] / 2, root.pos[1]

            Button:
                text: "取消"
                color: "black"
                background_color: 0, 0, 0, 0
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1
                    Rectangle:
                        size: self.size
                        pos: self.pos
                on_press: root.dismiss()             
            
            Button: 
                text: "确定"
                color: "black"
                background_color: 0, 0, 0, 0
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1
                    Rectangle:
                        size: self.size
                        pos: self.pos   
                on_press: root.confirm() 
